<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼æ‡¶äººè’¸è”¬èœæŒ‡å— (AI å¢å¼·ç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Natural Tones -->
    <!-- Application Structure Plan: æ¡ç”¨é ‚éƒ¨å°è¦½åˆ—åˆ‡æ›å››å¤§ä¸»é¡Œçš„å„€è¡¨æ¿å¼è¨­è¨ˆï¼š1.ã€Œè”¬èœæ¢ç´¢å®¶ã€è®“ä½¿ç”¨è€…é€éå‚™æ–™ç­‰ç´šäº’å‹•å¼ç¯©é¸è”¬èœï¼›2.ã€Œå®Œç¾è’¸ç…®è¡“ã€æ•´åˆäº†å»šå…·æŠ€å·§ä¸¦å°‡è’¸ç…®æ™‚é–“è¦–è¦ºåŒ–ç‚ºäº’å‹•åœ–è¡¨ï¼›3.ã€Œé¢¨å‘³é­”æ³•å¸«ã€å°‡é†¬æ±é…æ–¹è½‰ç‚ºå¡ç‰‡ï¼›4.ã€Œå‡è¡¡é¤ç›¤å­¸ã€ç”¨è‰²å½©äº’å‹•æ–¹å¼ä»‹ç´¹æ¤åŒ–ç´ ã€‚æ–°å¢ç¬¬5å€‹ä¸»é¡Œã€Œâœ¨ AI å‰µæ„å»šæˆ¿ã€ï¼Œæ•´åˆGemini APIæä¾›é£Ÿè­œç”Ÿæˆèˆ‡é¤ç›¤è¨­è¨ˆåŠŸèƒ½ï¼Œå°‡æ‡‰ç”¨å¾éœæ…‹æŒ‡å—å‡ç´šç‚ºäº’å‹•å¼AIåŠ©ç†ã€‚ -->
    <!-- Visualization & Content Choices: 
        - è”¬èœæ¸…å–® -> ç›®æ¨™: çµ„ç¹”èˆ‡ç¯©é¸ -> æ–¹å¼: JSæ§åˆ¶çš„äº’å‹•å¼HTMLå¡ç‰‡ç¶²æ ¼ -> äº’å‹•: é»æ“ŠæŒ‰éˆ•ä¾ã€Œå‚™æ–™ç­‰ç´šã€ç¯©é¸ -> ç†ç”±: æ¯”éœæ…‹åˆ—è¡¨æ›´ç›´è§€ -> æŠ€è¡“: HTML/CSS + Vanilla JSã€‚
        - è’¸ç…®æ™‚é–“è¡¨ -> ç›®æ¨™: æ¯”è¼ƒèˆ‡å‘ŠçŸ¥ -> æ–¹å¼: Chart.js æ°´å¹³é•·æ¢åœ– -> äº’å‹•: æ»‘é¼ æ‡¸åœé¡¯ç¤ºç²¾ç¢ºæ™‚é–“ -> ç†ç”±: è¦–è¦ºåŒ–å‘ˆç¾æ™‚é–“é•·çŸ­ -> æŠ€è¡“: Chart.jsã€‚
        - é†¬æ±é£Ÿè­œ -> ç›®æ¨™: å‘ŠçŸ¥ -> æ–¹å¼: çµæ§‹åŒ–çš„HTML/CSSå¡ç‰‡ -> ç†ç”±: å°‡é£Ÿè­œæ¨¡çµ„åŒ–ï¼Œæ–¹ä¾¿å¥—ç”¨ -> æŠ€è¡“: HTML/CSSã€‚
        - âœ¨ AI é£Ÿè­œç”Ÿæˆ -> ç›®æ¨™: å‰µé€ èˆ‡å»ºè­° -> æ–¹å¼: Gemini API æ–‡å­—ç”Ÿæˆ -> äº’å‹•: ä½¿ç”¨è€…é¸æ“‡è”¬èœèˆ‡é†¬æ±é¢¨æ ¼ï¼Œé»æ“ŠæŒ‰éˆ•è§¸ç™¼APIèª¿ç”¨ -> ç†ç”±: æä¾›è¶…è¶Šéœæ…‹è³‡è¨Šçš„å€‹äººåŒ–å‰µæ„é£Ÿè­œ -> æŠ€è¡“: Vanilla JS Fetch APIã€‚
        - âœ¨ AI é¤ç›¤è¨­è¨ˆ -> ç›®æ¨™: å‰µé€ èˆ‡å»ºè­° -> æ–¹å¼: Gemini API æ–‡å­—ç”Ÿæˆ -> äº’å‹•: ä½¿ç”¨è€…è¼¸å…¥ä¸»é£Ÿï¼Œé»æ“ŠæŒ‰éˆ•è§¸ç™¼APIèª¿ç”¨ -> ç†ç”±: æä¾›å®¢è£½åŒ–çš„å‡è¡¡é£²é£Ÿæ–¹æ¡ˆ -> æŠ€è¡“: Vanilla JS Fetch APIã€‚
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #FDFCF8;
            color: #4A4441;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active {
            color: #A37E64;
            border-bottom-color: #A37E64;
        }
        .nav-link:hover {
            color: #C1A79A;
        }
        .btn-filter {
            transition: all 0.3s ease;
        }
        .btn-filter.active {
            background-color: #86A37E;
            color: #FFFFFF;
        }
        .btn-filter:not(.active) {
            background-color: #F0EBE5;
            color: #6B6663;
        }
        .veg-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .veg-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 500px;
            max-height: 70vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 600px;
            }
        }
        .color-block {
            transition: transform 0.2s ease-in-out;
        }
        .color-block:hover {
            transform: scale(1.05);
        }
        .hidden {
            display: none;
        }
        .btn-gemini {
            background-color: #A37E64;
            color: white;
            transition: background-color 0.3s ease;
        }
        .btn-gemini:hover {
            background-color: #866a55;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #A37E64;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        
        <header class="py-6 mb-6">
            <h1 class="text-4xl font-bold text-center text-[#A37E64]">æ¯«ä¸è²»åŠ›çš„é£²é£Ÿè—è¡“</h1>
            <p class="text-center text-lg mt-2 text-gray-600">æ‚¨çš„äº’å‹•å¼é›¶å‚™æ–™è’¸è”¬èœå…¨æ”»ç•¥ (AI å¢å¼·ç‰ˆ)</p>
            
            <nav id="main-nav" class="mt-8 border-b border-gray-200">
                <ul class="flex justify-center flex-wrap -mb-px">
                    <li><a href="#" class="nav-link inline-block p-4 text-lg font-medium active" data-target="explore">ğŸ¥¬ è”¬èœæ¢ç´¢å®¶</a></li>
                    <li><a href="#" class="nav-link inline-block p-4 text-lg font-medium" data-target="techniques">ğŸ”¬ å®Œç¾è’¸ç…®è¡“</a></li>
                    <li><a href="#" class="nav-link inline-block p-4 text-lg font-medium" data-target="flavors">ğŸ¨ é¢¨å‘³é­”æ³•å¸«</a></li>
                    <li><a href="#" class="nav-link inline-block p-4 text-lg font-medium" data-target="balanced-plate">ğŸ½ï¸ å‡è¡¡é¤ç›¤å­¸</a></li>
                    <li><a href="#" class="nav-link inline-block p-4 text-lg font-medium" data-target="ai-kitchen">âœ¨ AI å‰µæ„å»šæˆ¿</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="explore" class="app-section">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">è”¬èœæ¢ç´¢å®¶</h2>
                    <p class="text-gray-600">é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œç¯©é¸å‡ºæœ€é©åˆæ‚¨ä»Šæ—¥éœ€æ±‚çš„è”¬èœå¤¥ä¼´ã€‚</p>
                </div>
                <div id="filter-container" class="flex justify-center space-x-2 sm:space-x-4 mb-8">
                    <button class="btn-filter py-2 px-4 rounded-full font-semibold text-sm sm:text-base active" data-filter="all">å…¨éƒ¨</button>
                    <button class="btn-filter py-2 px-4 rounded-full font-semibold text-sm sm:text-base" data-filter="zero">é›¶å‚™æ–™</button>
                    <button class="btn-filter py-2 px-4 rounded-full font-semibold text-sm sm:text-base" data-filter="minimal">æ¥µç°¡å‚™æ–™</button>
                    <button class="btn-filter py-2 px-4 rounded-full font-semibold text-sm sm:text-base" data-filter="pre-prepped">è¶…å¸‚å³é£Ÿ</button>
                </div>
                <div id="veg-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
            </section>

            <section id="techniques" class="app-section hidden">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">å®Œç¾è’¸ç…®è¡“</h2>
                    <p class="text-gray-600">å¾å·¥å…·åˆ°æ™‚é–“ï¼ŒæŒæ¡è’¸ç…®çš„ç§‘å­¸ï¼Œæˆå°±å®Œç¾å£æ„Ÿèˆ‡è‰²æ¾¤ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm mb-12">
                     <h3 class="text-2xl font-bold mb-4 text-center text-[#A37E64]">çµ‚æ¥µè”¬èœè’¸ç…®æ™‚é–“åœ–è¡¨</h3>
                     <p class="text-center text-gray-500 mb-6">å°‡æ»‘é¼ æ‡¸åœåœ¨é•·æ¢ä¸ŠæŸ¥çœ‹ç²¾ç¢ºæ™‚é–“èˆ‡å°ˆå®¶æç¤ºã€‚</p>
                     <div class="chart-container"><canvas id="steaming-time-chart"></canvas></div>
                </div>
                <h3 class="text-2xl font-bold mb-6 text-center text-[#A37E64]">è’¸ç…®é»ƒé‡‘æ³•å‰‡</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h4 class="font-bold text-xl mb-2">ğŸŸ¢ é–ä½ç¿ ç¶ </h4>
                        <p class="text-gray-600">éåº¦çƒ¹ç…®æœƒåˆ†è§£è‘‰ç¶ ç´ ã€‚è§£æ±ºæ–¹æ³•ï¼š<strong class="text-[#86A37E]">ç²¾æº–è¨ˆæ™‚</strong>ï¼Œä¸¦åœ¨èµ·é‹å¾Œ<strong class="text-[#86A37E]">ç«‹å³å†°é®</strong>ï¼ˆè‹¥è¦æ¶¼æ‹Œï¼‰ã€‚</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h4 class="font-bold text-xl mb-2">ğŸ’§ å‘Šåˆ¥è»Ÿçˆ›</h4>
                        <p class="text-gray-600">é‹è“‹å‡çµçš„æ°´æ»´æ˜¯è”¬èœæ¿•è»Ÿçš„å…ƒå…‡ã€‚è§£æ±ºæ–¹æ³•ï¼šåœ¨ç›¤å­ä¸Š<strong class="text-[#86A37E]">è¦†è“‹å¦ä¸€å€‹ç›¤å­</strong>ï¼Œæˆ–åœ¨é‹è“‹é‚Šç·£<strong class="text-[#86A37E]">æ–œæ’ä¸€æ ¹ç­·å­</strong>ã€‚</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <h4 class="font-bold text-xl mb-2">â¤ï¸ ç‡Ÿé¤Šæœ€å¤§åŒ–</h4>
                        <p class="text-gray-600">è’¸ç…®èƒ½æ¯”æ°´ç…®ä¿ç•™æ›´å¤šæ°´æº¶æ€§ç¶­ç”Ÿç´ ã€‚é¸æ“‡è’¸ï¼Œå°±æ˜¯é¸æ“‡<strong class="text-[#86A37E]">æ›´è°æ˜çš„å¥åº·</strong>ã€‚</p>
                    </div>
                </div>
            </section>

            <section id="flavors" class="app-section hidden">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">é¢¨å‘³é­”æ³•å¸«</h2>
                    <p class="text-gray-600">å¾è’¸ç…®åˆ°é©šè‰·ï¼Œåªéœ€ä¸‰æ­¥é©Ÿï¼Œè®“æ‚¨çš„å¥åº·é¤ç›¤ç¾å‘³å‡ç´šã€‚</p>
                </div>
                <div id="sauce-grid" class="grid md:grid-cols-2 gap-6"></div>
            </section>

            <section id="balanced-plate" class="app-section hidden">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">å‡è¡¡é¤ç›¤å­¸</h2>
                    <p class="text-gray-600">å°‡è’¸è”¬èœèå…¥æ—¥å¸¸ï¼Œè¼•é¬†çµ„è£å‡ºä¸€é “ç‡Ÿé¤ŠåˆçœåŠ›çš„å®Œæ•´é¤é»ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm mb-12">
                    <h3 class="text-2xl font-bold mb-4 text-center text-[#A37E64]">å½©è™¹çš„é€£çµï¼šç‚ºå¥åº·è€Œé£Ÿ</h3>
                    <p class="text-center text-gray-500 mb-6">åƒå„ç¨®é¡è‰²çš„è”¬èœï¼Œæ”å–å¤šæ¨£çš„ã€Œæ¤åŒ–ç´ ã€ã€‚é»æ“Šä¸‹æ–¹è‰²å¡Šï¼Œæ¢ç´¢å®ƒå€‘çš„ç§˜å¯†ï¼</p>
                    <div class="flex justify-center flex-wrap gap-4 mb-6">
                        <div class="color-block cursor-pointer p-6 rounded-full w-20 h-20 flex items-center justify-center font-bold text-white shadow-md bg-red-500" data-color="red">ç´…è‰²</div>
                        <div class="color-block cursor-pointer p-6 rounded-full w-20 h-20 flex items-center justify-center font-bold text-white shadow-md bg-orange-400" data-color="orange">æ©˜é»ƒ</div>
                        <div class="color-block cursor-pointer p-6 rounded-full w-20 h-20 flex items-center justify-center font-bold text-white shadow-md bg-green-500" data-color="green">ç¶ è‰²</div>
                        <div class="color-block cursor-pointer p-6 rounded-full w-20 h-20 flex items-center justify-center font-bold text-white shadow-md bg-purple-500" data-color="purple">è—ç´«</div>
                        <div class="color-block cursor-pointer p-6 rounded-full w-20 h-20 flex items-center justify-center font-bold text-gray-700 shadow-md bg-gray-100" data-color="white">ç™½è‰²</div>
                    </div>
                    <div id="phyto-info" class="p-6 bg-gray-50 rounded-lg min-h-[120px] text-center flex flex-col justify-center">
                         <p class="text-gray-500">é»æ“Šè‰²å¡Šä¾†æŸ¥çœ‹è©³ç´°è³‡è¨Šã€‚</p>
                    </div>
                </div>
            </section>
            
            <section id="ai-kitchen" class="app-section hidden">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold mb-2">âœ¨ AI å‰µæ„å»šæˆ¿</h2>
                    <p class="text-gray-600">éˆæ„Ÿæ¯ç«­ï¼Ÿè®“æ‚¨çš„ AI çƒ¹é£ªåŠ©ç†ä¾†å¹«å¿™ï¼</p>
                </div>

                <!-- AI Recipe Generator -->
                <div class="bg-white p-6 sm:p-8 rounded-xl shadow-sm mb-12">
                    <h3 class="text-2xl font-bold mb-2 text-center text-[#A37E64]">AI é£Ÿè­œç”Ÿæˆå™¨</h3>
                    <p class="text-center text-gray-500 mb-6">é¸æ“‡è”¬èœå’Œé¢¨å‘³ï¼ŒAI ç‚ºæ‚¨é‡èº«æ‰“é€ å‰µæ„è’¸æ–™ç†ã€‚</p>
                    <div class="grid sm:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label for="ai-veg-select" class="block text-sm font-medium text-gray-700 mb-1">é¸æ“‡ä¸€ç¨®è”¬èœ</label>
                            <select id="ai-veg-select" class="w-full p-2 border border-gray-300 rounded-lg"></select>
                        </div>
                        <div>
                            <label for="ai-sauce-select" class="block text-sm font-medium text-gray-700 mb-1">é¸æ“‡ä¸€ç¨®é¢¨å‘³</label>
                            <select id="ai-sauce-select" class="w-full p-2 border border-gray-300 rounded-lg"></select>
                        </div>
                    </div>
                    <button id="generate-recipe-btn" class="btn-gemini w-full py-3 px-4 rounded-lg font-semibold flex items-center justify-center">
                        âœ¨ ç”Ÿæˆå‰µæ„é£Ÿè­œ
                    </button>
                    <div id="recipe-result" class="mt-6 p-6 bg-gray-50 rounded-lg min-h-[150px]">
                        <p class="text-gray-500 text-center">AI çš„å‰µæ„çµæ™¶å°‡æœƒé¡¯ç¤ºåœ¨é€™è£¡...</p>
                    </div>
                </div>

                <!-- AI Plate Designer -->
                <div class="bg-white p-6 sm:p-8 rounded-xl shadow-sm">
                    <h3 class="text-2xl font-bold mb-2 text-center text-[#A37E64]">AI æ™ºæ…§é¤ç›¤</h3>
                    <p class="text-center text-gray-500 mb-6">å‘Šè¨´ AI æ‚¨ä»Šå¤©çš„ä¸»é£Ÿï¼Œå®ƒå°‡ç‚ºæ‚¨è¨­è¨ˆä¸€å¥—å®Œæ•´ã€å‡è¡¡çš„è’¸ç…®é¤ã€‚</p>
                    <div class="mb-4">
                        <label for="ai-protein-input" class="block text-sm font-medium text-gray-700 mb-1">æˆ‘ä»Šå¤©çš„ä¸»é£Ÿæ˜¯...</label>
                        <input type="text" id="ai-protein-input" placeholder="ä¾‹å¦‚ï¼šé›èƒ¸è‚‰ã€é®­é­šã€è±†è…" class="w-full p-2 border border-gray-300 rounded-lg">
                    </div>
                    <button id="generate-plate-btn" class="btn-gemini w-full py-3 px-4 rounded-lg font-semibold flex items-center justify-center">
                        âœ¨ è¨­è¨ˆæˆ‘çš„é¤ç›¤
                    </button>
                    <div id="plate-result" class="mt-6 p-6 bg-gray-50 rounded-lg min-h-[150px]">
                        <p class="text-gray-500 text-center">æ‚¨çš„å®¢è£½åŒ–ç‡Ÿé¤Šé¤ç›¤å»ºè­°å°‡æœƒé¡¯ç¤ºåœ¨é€™è£¡...</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const vegData = [
                { name: 'ç‰ç±³ç­', emoji: 'ğŸŒ½', category: 'zero', time: '4-5 åˆ†é˜', tip: 'æ•´æ”¯æ²–æ°´å¾Œæ’é€²è’¸ç± ï¼Œå¸¶æ®¼è’¸æ›´ç”œã€‚' },
                { name: 'å››å­£è±†/é’é¾è±†', emoji: 'ğŸ«›', category: 'zero', time: '3-4 åˆ†é˜', tip: 'å»è’‚é ­ç›´æ¥è’¸ï¼Œä¿æŒç¿ ç¶ ã€‚æ³¨æ„ï¼šèœè±†é¡éœ€è’¸10åˆ†é˜ä»¥ä¸Šæ‰å®‰å…¨ã€‚' },
                { name: 'é‡‘é‡è‡', emoji: 'ğŸ„', category: 'zero', time: '3 åˆ†é˜', tip: 'åˆ‡æ‰åº•éƒ¨ç¡¬é ­ï¼Œåˆ†æŠŠé‹ªç›¤è’¸ã€‚' },
                { name: 'å†·å‡èŠ±æ¤°èœ/æ¯›è±†', emoji: 'ğŸ¥¦', category: 'pre-prepped', time: '5 åˆ†é˜', tip: 'ç„¡éœ€è§£å‡ï¼Œç›´æ¥å…¥è’¸ç± ã€‚' },
                { name: 'æ«›ç“œ', emoji: 'ğŸ¥’', category: 'minimal', time: '4-5 åˆ†é˜', tip: 'æ©«åˆ‡åšç‰‡æˆ–å°åˆ‡é•·æ¢ã€‚' },
                { name: 'å½©è‰²ç”œæ¤’', emoji: 'ğŸŒ¶ï¸', category: 'minimal', time: '3-4 åˆ†é˜', tip: 'å»ç±½å¾Œåˆ‡å¡Šï¼Œè‰²å½©å¢é£Ÿæ…¾ã€‚' },
                { name: 'æ —å—ç“œ', emoji: 'ğŸƒ', category: 'minimal', time: '8 åˆ†é˜', tip: 'å»ç±½å¸¶çš®åˆ‡æœˆç‰™ç‰‡ï¼Œç”œåº¦é«˜ã€‚' },
                { name: 'èƒ¡è˜¿è””', emoji: 'ğŸ¥•', category: 'minimal', time: '6-7 åˆ†é˜', tip: 'æ–œåˆ‡è–„ç‰‡æˆ–æ¢ç‹€ã€‚' },
                { name: 'è˜†ç­', emoji: 'ğŸŒ¿', category: 'zero', time: '3-5 åˆ†é˜', tip: 'ç”¨æ‰‹è¼•æŠ˜æ ¹éƒ¨å»é™¤è€æ¢—ã€‚' },
                { name: 'é«˜éº—èœ/å¨ƒå¨ƒèœ', emoji: 'ğŸ¥¬', category: 'minimal', time: '10-15 åˆ†é˜', tip: 'å°åˆ‡æˆ–åˆ‡å¤§å¡Šï¼Œè’¸å¾Œæ¸…ç”œã€‚' },
                { name: 'èŒ„å­', emoji: 'ğŸ†', category: 'minimal', time: '8-10 åˆ†é˜', tip: 'ç¸±å‘å°åˆ‡ï¼Œè¡¨é¢è¼•åŠƒå¹¾åˆ€ã€‚' }
            ];

            const sauceData = [
                { name: 'ç¶“å…¸å°å¼è’œè“‰é†¬æ²¹', style: 'ğŸ‡¹ğŸ‡¼ å°å¼', ingredients: 'é†¬æ²¹è† 2ä»½ã€è’œæœ« 1ä»½ã€ç³–/å‘³é†‚ 0.5ä»½ã€é¦™æ²¹ å°‘è¨±', pairing: 'å¹¾ä¹æ‰€æœ‰è”¬èœï¼Œç‰¹åˆ¥æ˜¯è‘‰èœé¡ã€èŒ„å­ã€‚' },
                { name: 'æ¸…çˆ½æ—¥å¼å’Œé¢¨é†¬', style: 'ğŸ‡¯ğŸ‡µ æ—¥å¼', ingredients: 'æ—¥å¼é†¬æ²¹ 2ä»½ã€ç±³é†‹ 1ä»½ã€å‘³é†‚ 1ä»½ã€(å¯é¸)æŸ´é­šç²‰', pairing: 'é«˜éº—èœã€è‡é¡ã€æµ·å¸¶èŠ½ã€‚' },
                { name: 'ç°¡æ˜“åœ°ä¸­æµ·æ²¹é†‹é†¬', style: 'ğŸ‡®ğŸ‡¹ åœ°ä¸­æµ·', ingredients: 'åˆæ¦¨æ©„æ¬–æ²¹ 3ä»½ã€æª¸æª¬æ± 1ä»½ã€é¹½ã€é»‘èƒ¡æ¤’', pairing: 'è˜†ç­ã€ç”œæ¤’ã€æ«›ç“œã€ç•ªèŒ„ã€‚' },
                { name: 'æƒ¹å‘³ç²µå¼æ·‹ç†±æ²¹', style: 'ğŸ‡­ğŸ‡° ç²µå¼', ingredients: 'è’œæœ«ã€è¾£æ¤’æœ«ã€è”¥èŠ±ï¼Œæ·‹ä¸Šæ»¾ç‡™ç†±æ²¹ï¼Œå†åŠ é†¬æ²¹èª¿å‘³', pairing: 'èŒ„å­ã€å¨ƒå¨ƒèœï¼ˆå¯æ­ç²‰çµ²ï¼‰ã€‚' },
            ];
            
            const phytoData = {
                red: { title: 'ç´…è‰²è”¬æœ (èŒ„ç´…ç´ )', text: 'ä¿è­·å¿ƒè¡€ç®¡ã€é™ä½ç‰¹å®šç™Œç—‡é¢¨éšªã€‚é©åˆæ¸…è’¸çš„æœ‰ï¼šå°ç•ªèŒ„ã€ç´…ç”œæ¤’ã€‚' },
                orange: { title: 'æ©˜é»ƒè‰²è”¬æœ (Î²-èƒ¡è˜¿è””ç´ )', text: 'ç¶­è­·è¦–è¦ºå¥åº·ã€å¼·åŒ–å…ç–«åŠŸèƒ½ã€‚é©åˆæ¸…è’¸çš„æœ‰ï¼šå—ç“œã€é»ƒç”œæ¤’ã€ç‰ç±³ç­ã€èƒ¡è˜¿è””ã€‚' },
                green: { title: 'ç¶ è‰²è”¬æœ (è‘‰ç¶ ç´ )', text: 'ç¶­è­·è¦–è¦ºå¥åº·ã€å¼·å¥éª¨éª¼ã€‚é©åˆæ¸…è’¸çš„æœ‰ï¼šé’èŠ±èœã€è˜†ç­ã€æ«›ç“œã€æ¯›è±†ã€‚' },
                purple: { title: 'è—ç´«è‰²è”¬æœ (èŠ±é’ç´ )', text: 'å¼·åŠ›æŠ—æ°§åŒ–ã€æŠ—ç™¼ç‚ã€‚é©åˆæ¸…è’¸çš„æœ‰ï¼šèŒ„å­ã€ç´«ç”˜è—ã€‚' },
                white: { title: 'ç™½è‰²è”¬æœ (å¤§è’œç´ )', text: 'ä¿è­·å¿ƒè¡€ç®¡ã€æå‡å…ç–«åŠ›ã€‚é©åˆæ¸…è’¸çš„æœ‰ï¼šè˜‘è‡ã€æ´‹è”¥ã€é«˜éº—èœã€‚' },
            };

            const vegGrid = document.getElementById('veg-grid');
            const filterContainer = document.getElementById('filter-container');
            const sauceGrid = document.getElementById('sauce-grid');

            const renderVegGrid = (filter = 'all') => {
                vegGrid.innerHTML = '';
                const filteredData = filter === 'all' ? vegData : vegData.filter(v => v.category === filter);
                filteredData.forEach(veg => {
                    const card = document.createElement('div');
                    card.className = 'veg-card bg-white p-6 rounded-xl shadow-sm cursor-pointer';
                    card.innerHTML = `<div class="flex items-center mb-3"><span class="text-4xl mr-4">${veg.emoji}</span><div><h4 class="font-bold text-xl">${veg.name}</h4><p class="text-sm text-gray-500">è’¸ç…®æ™‚é–“: <span class="font-semibold text-[#A37E64]">${veg.time}</span></p></div></div><p class="text-gray-600">${veg.tip}</p>`;
                    vegGrid.appendChild(card);
                });
            };

            const renderSauceGrid = () => {
                sauceGrid.innerHTML = '';
                sauceData.forEach(sauce => {
                    const card = document.createElement('div');
                    card.className = 'bg-white p-6 rounded-xl shadow-sm';
                    card.innerHTML = `<h4 class="font-bold text-xl mb-3"><span class="mr-2">${sauce.style}</span>${sauce.name}</h4><p class="mb-2"><strong class="text-gray-700">æ ¸å¿ƒææ–™ï¼š</strong>${sauce.ingredients}</p><p><strong class="text-gray-700">æœ€ä½³æ­é…ï¼š</strong>${sauce.pairing}</p>`;
                    sauceGrid.appendChild(card);
                });
            };

            filterContainer.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    document.querySelector('.btn-filter.active').classList.remove('active');
                    e.target.classList.add('active');
                    renderVegGrid(e.target.dataset.filter);
                }
            });

            const mainNav = document.getElementById('main-nav');
            const sections = document.querySelectorAll('.app-section');
            let chart = null;

            mainNav.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = e.target.dataset.target;
                if (!targetId || e.target.classList.contains('active')) return;

                document.querySelector('.nav-link.active').classList.remove('active');
                e.target.classList.add('active');

                sections.forEach(section => {
                    section.id === targetId ? section.classList.remove('hidden') : section.classList.add('hidden');
                });
                
                if (targetId === 'techniques' && !chart) renderSteamingTimeChart();
                if (targetId === 'ai-kitchen') populateAiSelectors();
            });

            const renderSteamingTimeChart = () => {
                const ctx = document.getElementById('steaming-time-chart').getContext('2d');
                const chartData = {
                    labels: ['é‡‘é‡è‡', 'å››å­£è±†', 'ç”œæ¤’', 'ç‰ç±³ç­', 'æ«›ç“œ', 'å†·å‡è”¬èœ', 'èƒ¡è˜¿è””', 'å—ç“œ', 'èŒ„å­', 'é«˜éº—èœ'],
                    datasets: [{ label: 'æœ€çŸ­è’¸ç…®æ™‚é–“ (åˆ†)', data: [2, 3, 3, 4, 4, 5, 6, 8, 8, 10], backgroundColor: 'rgba(134, 163, 126, 0.7)' }, { label: 'æœ€é•·è’¸ç…®æ™‚é–“ (åˆ†)', data: [3, 4, 4, 5, 5, 5, 7, 8, 10, 15], backgroundColor: 'rgba(163, 126, 100, 0.5)' }]
                };
                chart = new Chart(ctx, { type: 'bar', data: chartData, options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false } });
            };

            const colorContainer = document.querySelector('.flex.justify-center.flex-wrap.gap-4');
            const phytoInfo = document.getElementById('phyto-info');
            colorContainer.addEventListener('click', e => {
                if(e.target.dataset.color) {
                    const data = phytoData[e.target.dataset.color];
                    phytoInfo.innerHTML = `<h4 class="font-bold text-lg mb-1">${data.title}</h4><p class="text-gray-700">${data.text}</p>`;
                }
            });

            // Gemini API Section
            const vegSelect = document.getElementById('ai-veg-select');
            const sauceSelect = document.getElementById('ai-sauce-select');
            const generateRecipeBtn = document.getElementById('generate-recipe-btn');
            const recipeResult = document.getElementById('recipe-result');
            
            const proteinInput = document.getElementById('ai-protein-input');
            const generatePlateBtn = document.getElementById('generate-plate-btn');
            const plateResult = document.getElementById('plate-result');

            function populateAiSelectors() {
                if (vegSelect.options.length > 1) return; // Already populated
                vegData.forEach(v => vegSelect.add(new Option(v.name, v.name)));
                sauceData.forEach(s => sauceSelect.add(new Option(s.name, s.name)));
            }

            async function callGemini(prompt, resultElement) {
                resultElement.innerHTML = '<div class="loader"></div>';
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                       throw new Error(`API è«‹æ±‚å¤±æ•—ï¼Œç‹€æ…‹ç¢¼ï¼š ${response.status}`);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts[0]) {
                        const text = result.candidates[0].content.parts[0].text;
                        resultElement.innerHTML = text.replace(/\n/g, '<br>');
                    } else {
                        throw new Error('å¾ API æ”¶åˆ°çš„å›æ‡‰æ ¼å¼ç„¡æ•ˆã€‚');
                    }
                } catch (error) {
                    console.error('Gemini API éŒ¯èª¤:', error);
                    resultElement.innerHTML = `<p class="text-red-500 text-center">æŠ±æ­‰ï¼Œç™¼ç”ŸéŒ¯èª¤äº†ã€‚è«‹ç¨å¾Œå†è©¦ä¸€æ¬¡ã€‚<br><small>${error.message}</small></p>`;
                }
            }

            generateRecipeBtn.addEventListener('click', () => {
                const selectedVeg = vegSelect.value;
                const selectedSauce = sauceSelect.value;
                const prompt = `æ‚¨æ˜¯ä¸€ä½å‰µæ„å»šå¸«ã€‚è«‹æ ¹æ“šä»¥ä¸‹é£Ÿæï¼Œè¨­è¨ˆä¸€é“ç°¡å–®ã€ç¾å‘³ã€å¥åº·çš„æ¸…è’¸æ–™ç†ã€‚è«‹ç‚ºé€™é“èœå–ä¸€å€‹å¸å¼•äººçš„åå­—ï¼Œä¸¦ä»¥æ¢åˆ—å¼æä¾›æ¸…æ™°çš„ã€Œé£Ÿæã€å’Œã€Œæ­¥é©Ÿã€èªªæ˜ã€‚\n\n- ä¸»è¦è”¬èœï¼š${selectedVeg}\n- é¢¨å‘³åŸºåº•ï¼š${selectedSauce}`;
                callGemini(prompt, recipeResult);
            });

            generatePlateBtn.addEventListener('click', () => {
                const protein = proteinInput.value;
                if (!protein.trim()) {
                    plateResult.innerHTML = '<p class="text-red-500 text-center">è«‹å…ˆè¼¸å…¥æ‚¨çš„ä¸»é£Ÿï¼</p>';
                    return;
                }
                const prompt = `æ‚¨æ˜¯ä¸€ä½å°ˆæ¥­çš„ç‡Ÿé¤Šå¸«ã€‚è«‹ä»¥ã€Œ${protein}ã€ä½œç‚ºä¸»é£Ÿï¼Œè¨­è¨ˆä¸€ä»½ç‡Ÿé¤Šå‡è¡¡ã€é©åˆä¸€èµ·è’¸ç…®çš„ã€Œä¸€é‹åˆ°åº•ã€é¤ç›¤ã€‚è«‹æ¨è–¦ 2-3 ç¨®é©åˆæ­é…çš„è”¬èœï¼Œä¸¦æä¾›æ¸…æ™°çš„ã€Œé£Ÿææº–å‚™ã€å’Œã€Œè’¸ç…®æ­¥é©Ÿã€èªªæ˜ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥è¼•é¬†å®Œæˆã€‚`;
                callGemini(prompt, plateResult);
            });


            // Initial render
            renderVegGrid();
            renderSauceGrid();
        });
    </script>
</body>
</html>
